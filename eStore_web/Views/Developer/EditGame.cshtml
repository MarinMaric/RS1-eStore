@using System;
@using eStore_web.EF_Models;
@model eStore_web.ViewModel.EditGameVM

<link rel="stylesheet" type="text/css" href="~/css/pocetna.css">
<style>
    .mGamePicture {
        position: relative;
        width: 100%;
        height: 200px;
        margin: 15px;
    }

        .mGamePicture img {
            position: relative;
            display: block;
            margin: 0 auto;
            width: 200px;
            height: 150px;
            border: 1px solid #393939;
        }

    label.error {
        color: red;
        margin-bottom: 0;
        padding-bottom: 0;
    }

    .btn1 {
        position: absolute;
        top: 0px;
        right: 15px;
        z-index: 1;
    }

    .mInput {
        margin: auto;
        width: 300px;
        padding: 10px;
        background-color: #eee;
        border: 2px solid #939393;
        overflow: hidden;
    }
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<br>
<br>
<br>

@using (Html.BeginForm("SaveChanges", "Developer", new { }, FormMethod.Post, true, new { @class = "form-horizontal", enctype = "multipart/form-data" }))
{
    <fieldset>
        <legend>Uredi igru</legend>

        <div class="form-group">
            <label class="col-md-4 control-label" for="Naziv">Naziv</label>
            <div class="col-md-4">
                <input id="igraID" name="IgraID" type="text" value="@Model.IgraID" hidden />
                <input id="naziv" name="Naziv" type="text" placeholder="" value="@Model.Naziv" class="form-control input-md" required="">
                <span class="help-block">help</span>
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-4 control-label" for="Opis">Opis</label>
            <div class="col-md-4">
                <textarea class="form-control" id="opis" name="Opis">@Model.Opis</textarea>
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-4 control-label" for="Genre">Žanr</label>
            <div class="col-md-4">
                <select asp-for="@Model.ZanrValue" asp-items="@Model.Zanr" class="form-control"></select>
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-4 control-label" for="filebutton">Link Igre</label>
            <div class="col-md-4">
                <textarea class="form-control" id="igra" name="LinkIgre">@Model.LinkIgre</textarea>
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-4 control-label" for="Cijena">Cijena</label>
            <div class="col-md-4">
                <input type="number" class="form-control" id="cijena" name="Cijena" value="@Model.Cijena" />
            </div>
        </div>

        <div class="mGamePicture">
            @if (Model.Slika != null)
            {
                var base64 = Convert.ToBase64String(Model.SlikaPrikaz);
                var imgsrc = string.Format("data:image/gif;base64,{0}", base64);

                <img class="card-img-top" src="@imgsrc" alt="Card image cap">
            }
            else
            {
                <img class="card-img-top" src="~/images/image.jpg" alt="Card image cap">
            }

            <br />
            <div class="form-group">
                <div class="mInput">
                    <input type="file" id="ProfilSlika" name="Slika" class="input-file center-block">
                </div>
                <br />

            </div>
            <br />
        </div>

        <div class="form-group">
            <label class="col-md-4 control-label" for="submit"></label>
            <div class="col-md-4">
                <button id="submit" name="submit" class="btn btn-primary">Spremi</button>
            </div>
        </div>

    </fieldset>
}
